name: matrix demo
on:
    workflow_dispatch
jobs:
    deploy:
        strategy:
            max-parallel: 2
            fail-fast: false
            matrix:
                os: ["ubuntu-latest","ubuntu-22.04","windows-2025"]
                images: ["hello-world","alpine"]
                exclude: 
                  - images: alpine
                    os: windows-2025
                include:
                  - images: amd64/alpine
                    os: ubuntu-22.04
        runs-on: ${{ matrix.os }}
        steps:
        - name: run the image with ${{ matrix.os }}
          run: docker info
        - name: run image
          run: docker run ${{ matrix.images }}